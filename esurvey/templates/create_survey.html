
{% extends "base.html" %}
{% load i18n %}
{% load crispy_forms_tags %}

{% block title %}Create Project {% endblock %}



{% block content %}
<br/>

<form action="" method="post">{% csrf_token %}


{{ wizard.management_form }}
<div class="row">
    <div class="col">
      <div class="multisteps-form__progress">
        {% if wizard.steps.step1 >= 1   %}
        <button id='b1' class="multisteps-form__progress-btn js-active" name="wizard_goto_step" type="submit" value="project">Step 1: Project settings</button>
        {% else %}
        <button id='b2' class="multisteps-form__progress-btn" type="button" name="wizard_goto_step" type="submit" value="project">Step 1: Project settings</button>
        {% endif %}

        {% if wizard.steps.step1 >= 2  %}
        <button id='b2' class="multisteps-form__progress-btn js-active" name="wizard_goto_step" type="submit"value="survey">Step 2: Survey settings</button>
        {% else %}
        <button id='b2' class="multisteps-form__progress-btn" name="wizard_goto_step" type="submit" value="survey">Step 2: Survey settings</button>
        {% endif %}
        {% if wizard.steps.step1 >= 3 %}
        <button id='b3' class="multisteps-form__progress-btn js-active" name="wizard_goto_step" type="submit" value="participants" >Step 3: Participants</button>
        {% else %}
        <button id='b2' class="multisteps-form__progress-btn" name="wizard_goto_step" type="submit" value="participants" >Step 3: Participants</button>
        {% endif %}

        {% if wizard.steps.step1 >= 4 %}
        <button id='b4' class="multisteps-form__progress-btn js-active"  name="wizard_goto_step" type="submit" value="summar" >Step 4: Summary</button>
        {% else %}
        <button id='b2' class="multisteps-form__progress-btn" name="wizard_goto_step" type="submit" value="summary"  >Step 4: Summary</button>
        {% endif %}


      </div>
    </div>
  </div>


<br/>
<br/>

<div class='row'>
 <div class='col col-lg-6 col-md-6'>
{% if wizard.form.forms %}
    {{ wizard.form.management_form }}
    {% for form in wizard.form.forms %}
    {% endfor %}

{% else %}

<nav>
<div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">

<a class="nav-item nav-link active" id="nav-s1-tab" data-toggle="tab" href="#nav-s1" role="tab" aria-controls="nav-s1" aria-selected="true">Survey-1</a>
{% if type > 1 %}
<a class="nav-item nav-link" id="nav-s2-tab" data-toggle="tab" href="#nav-s2" role="tab" aria-controls="nav-s2" aria-selected="false">Survey-2</a>
{% endif %}
{% if type > 2 %}
<a class="nav-item nav-link" id="nav-s3-tab" data-toggle="tab" href="#nav-s3" role="tab" aria-controls="nav-s3" aria-selected="false">Survey-3</a>
{% endif %}

{% if type > 3 %}
<a class="nav-item nav-link" id="nav-s4-tab" data-toggle="tab" href="#nav-s4" role="tab" aria-controls="nav-s4" aria-selected="false">Survey-4</a>
{% endif %}

{% if type > 4 %}
<a class="nav-item nav-link" id="nav-s5-tab" data-toggle="tab" href="#nav-s5" role="tab" aria-controls="nav-s5" aria-selected="false">Survey-5</a>
{% endif %}

</nav>
<div class="tab-content py-3 px-3 px-sm-0" id="nav-tabContent">
  <div class="tab-pane fade show active" id="nav-s1" role="tabpanel" aria-labelledby="nav-s1-tab">


      <!-- Form start -->
      <div class='row'>{{form.name_of_survey1.label}}{{form.name_of_survey1}}</div>
      <div class='row'>  {{form.questionnaire_language1.label}}{{form.questionnaire_language1}}</div>

      <div class='row'><div style="padding-left:0px" class='col col-lg-6 col-md-6'>{{form.start_date1.label}}{{form.start_date1}}</div><div style="padding-right:0px" class='col col-lg-6 col-md-6'>{{form.end_date1.label}}{{form.end_date1}}</div></div>
      <br/>
      <b> Contact information </b><span><i style='color:#007bff;' class='fa fa-info-circle ml-2'  data-toggle='modal' data-placement='top' data-target="#contact_info"></i></span>
      <div class="modal fade" id="contact_info" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header border-bottom-0">
              <h5 class="modal-title" id="exampleModalLabel"><span><i style='color:#007bff;' class='fa fa-info-circle mr-2'></i></span>Contact info</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class='modal-body'>
              Tell participants who you are. Provide participants  with the contact information in case if they have additional questions.
            </div>

          </div>
        </div>
      </div>
      <br/>
        <div class='row'>  {{form.survey_owner1.label}}{{form.survey_owner1}}</div>
      <div class='row'>  {{form.survey_owner_email1.label}}{{form.survey_owner_email1}}</div>
      <b> Survey front page setup</b><br/><br/>
      <div class='row'>{{form.title1.label}}{{form.title1}}</div>
      <div class='row'>  {{form.paragraph1.label}} (Provide a context for the survey)<span><i style='color:#007bff;' class='fa fa-info-circle ml-2'  data-toggle='modal' data-placement='top' data-target="#para"></i></span>
        <div class="modal fade" id="para" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header border-bottom-0">
                <h5 class="modal-title" id="exampleModalLabel"><span><i style='color:#007bff;' class='fa fa-info-circle mr-2'></i></span>Paragraph</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class='modal-body'>
                Providing context for your survey. You can add video, picture and write a text to explain how evaluated product works.
                <br/><br/>
                You can use following variables in the text <br/><br/>
                {PROJECT_NAME}: Name of project <br/>
                {PRODCUT_NAME}: Name of product <br/>
                {TODAY}: Today's date <br/>

              </div>

            </div>
          </div>
        </div>
          <br/><br/>

         {{form.paragraph1}}</div>
      <br/>

      <!--Form end -->
  </div>

  <div class="tab-pane fade show " id="nav-s2" role="tabpanel" aria-labelledby="nav-s2-tab">


      <!-- Form start -->
      <div class='row'>{{form.name_of_survey2.label}}{{form.name_of_survey2}}</div>
      <div class='row'>  {{form.questionnaire_language2.label}}{{form.questionnaire_language2}}</div>

      <div class='row'><div style="padding-left:0px" class='col col-lg-6 col-md-6'>{{form.start_date2.label}}{{form.start_date2}}</div><div style="padding-right:0px" class='col col-lg-6 col-md-6'>{{form.end_date2.label}}{{form.end_date2}}</div></div>
      <br/>
      <b> Contact information </b><span><i style='color:#007bff;' class='fa fa-info-circle ml-2'  data-toggle='modal' data-placement='top' data-target="#contact_info"></i></span>
      <div class="modal fade" id="contact_info" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header border-bottom-0">
              <h5 class="modal-title" id="exampleModalLabel"><span><i style='color:#007bff;' class='fa fa-info-circle mr-2'></i></span>Contact info</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class='modal-body'>
              Tell participants who you are. Provide participants  with the contact information in case if they have additional questions.
            </div>

          </div>
        </div>
      </div>
      <br/>
        <div class='row'>  {{form.survey_owner2.label}}{{form.survey_owner2}}</div>
      <div class='row'>  {{form.survey_owner_email2.label}}{{form.survey_owner_email2}}</div>
      <b> Survey front page setup</b><br/><br/>
      <div class='row'>{{form.title2.label}}{{form.title2}}</div>
      <div class='row'>  {{form.paragraph2.label}} (Provide a context for the survey)<span><i style='color:#007bff;' class='fa fa-info-circle ml-2'  data-toggle='modal' data-placement='top' data-target="#para"></i></span>
        <div class="modal fade" id="para" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header border-bottom-0">
                <h5 class="modal-title" id="exampleModalLabel"><span><i style='color:#007bff;' class='fa fa-info-circle mr-2'></i></span>Paragraph</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class='modal-body'>
                Providing context for your survey. You can add video, picture and write a text to explain how evaluated product works.
                <br/><br/>
                You can use following variables in the text <br/><br/>
                {PROJECT_NAME}: Name of project <br/>
                {PRODCUT_NAME}: Name of product <br/>
                {TODAY}: Today's date <br/>

              </div>

            </div>
          </div>
        </div>
          <br/><br/>

         {{form.paragraph2}}</div>
      <br/>

      <!--Form end -->
  </div>

  <div class="tab-pane fade show" id="nav-s3" role="tabpanel" aria-labelledby="nav-s3-tab">


      <!-- Form start -->
      <div class='row'>{{form.name_of_survey3.label}}{{form.name_of_survey3}}</div>
      <div class='row'>  {{form.questionnaire_language3.label}}{{form.questionnaire_language3}}</div>

      <div class='row'><div style="padding-left:0px" class='col col-lg-6 col-md-6'>{{form.start_date3.label}}{{form.start_date3}}</div><div style="padding-right:0px" class='col col-lg-6 col-md-6'>{{form.end_date3.label}}{{form.end_date3}}</div></div>
      <br/>
      <b> Contact information </b><span><i style='color:#007bff;' class='fa fa-info-circle ml-2'  data-toggle='modal' data-placement='top' data-target="#contact_info"></i></span>
      <div class="modal fade" id="contact_info" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header border-bottom-0">
              <h5 class="modal-title" id="exampleModalLabel"><span><i style='color:#007bff;' class='fa fa-info-circle mr-2'></i></span>Contact info</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class='modal-body'>
              Tell participants who you are. Provide participants  with the contact information in case if they have additional questions.
            </div>

          </div>
        </div>
      </div>
      <br/>
        <div class='row'>  {{form.survey_owner3.label}}{{form.survey_owner3}}</div>
      <div class='row'>  {{form.survey_owner_email3.label}}{{form.survey_owner_email3}}</div>
      <b> Survey front page setup</b><br/><br/>
      <div class='row'>{{form.title3.label}}{{form.title3}}</div>
      <div class='row'>  {{form.paragraph3.label}} (Provide a context for the survey)<span><i style='color:#007bff;' class='fa fa-info-circle ml-2'  data-toggle='modal' data-placement='top' data-target="#para"></i></span>
        <div class="modal fade" id="para" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header border-bottom-0">
                <h5 class="modal-title" id="exampleModalLabel"><span><i style='color:#007bff;' class='fa fa-info-circle mr-2'></i></span>Paragraph</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class='modal-body'>
                Providing context for your survey. You can add video, picture and write a text to explain how evaluated product works.
                <br/><br/>
                You can use following variables in the text <br/><br/>
                {PROJECT_NAME}: Name of project <br/>
                {PRODCUT_NAME}: Name of product <br/>
                {TODAY}: Today's date <br/>

              </div>

            </div>
          </div>
        </div>
          <br/><br/>

         {{form.paragraph3}}</div>
      <br/>

      <!--Form end -->
  </div>

  <div class="tab-pane fade show " id="nav-s4" role="tabpanel" aria-labelledby="nav-s4-tab">


      <!-- Form start -->
      <div class='row'>{{form.name_of_survey4.label}}{{form.name_of_survey4}}</div>
      <div class='row'>  {{form.questionnaire_language4.label}}{{form.questionnaire_language4}}</div>

      <div class='row'><div style="padding-left:0px" class='col col-lg-6 col-md-6'>{{form.start_date4.label}}{{form.start_date4}}</div><div style="padding-right:0px" class='col col-lg-6 col-md-6'>{{form.end_date4.label}}{{form.end_date4}}</div></div>
      <br/>
      <b> Contact information </b><span><i style='color:#007bff;' class='fa fa-info-circle ml-2'  data-toggle='modal' data-placement='top' data-target="#contact_info"></i></span>
      <div class="modal fade" id="contact_info" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header border-bottom-0">
              <h5 class="modal-title" id="exampleModalLabel"><span><i style='color:#007bff;' class='fa fa-info-circle mr-2'></i></span>Contact info</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class='modal-body'>
              Tell participants who you are. Provide participants  with the contact information in case if they have additional questions.
            </div>

          </div>
        </div>
      </div>
      <br/>
        <div class='row'>  {{form.survey_owner4.label}}{{form.survey_owner4}}</div>
      <div class='row'>  {{form.survey_owner_email4.label}}{{form.survey_owner_email4}}</div>
      <b> Survey front page setup</b><br/><br/>
      <div class='row'>{{form.title4.label}}{{form.title4}}</div>
      <div class='row'>  {{form.paragraph4.label}} (Provide a context for the survey)<span><i style='color:#007bff;' class='fa fa-info-circle ml-2'  data-toggle='modal' data-placement='top' data-target="#para"></i></span>
        <div class="modal fade" id="para" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header border-bottom-0">
                <h5 class="modal-title" id="exampleModalLabel"><span><i style='color:#007bff;' class='fa fa-info-circle mr-2'></i></span>Paragraph</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class='modal-body'>
                Providing context for your survey. You can add video, picture and write a text to explain how evaluated product works.
                <br/><br/>
                You can use following variables in the text <br/><br/>
                {PROJECT_NAME}: Name of project <br/>
                {PRODCUT_NAME}: Name of product <br/>
                {TODAY}: Today's date <br/>

              </div>

            </div>
          </div>
        </div>
          <br/><br/>

         {{form.paragraph4}}</div>
      <br/>

      <!--Form end -->
  </div>

  <div class="tab-pane fade show " id="nav-s5" role="tabpanel" aria-labelledby="nav-s5-tab">


      <!-- Form start -->
      <div class='row'>{{form.name_of_survey5.label}}{{form.name_of_survey5}}</div>
      <div class='row'>  {{form.questionnaire_language5.label}}{{form.questionnaire_language5}}</div>

      <div class='row'><div style="padding-left:0px" class='col col-lg-6 col-md-6'>{{form.start_date5.label}}{{form.start_date5}}</div><div style="padding-right:0px" class='col col-lg-6 col-md-6'>{{form.end_date5.label}}{{form.end_date5}}</div></div>
      <br/>
      <b> Contact information </b><span><i style='color:#007bff;' class='fa fa-info-circle ml-2'  data-toggle='modal' data-placement='top' data-target="#contact_info"></i></span>
      <div class="modal fade" id="contact_info" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header border-bottom-0">
              <h5 class="modal-title" id="exampleModalLabel"><span><i style='color:#007bff;' class='fa fa-info-circle mr-2'></i></span>Contact info</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class='modal-body'>
              Tell participants who you are. Provide participants  with the contact information in case if they have additional questions.
            </div>

          </div>
        </div>
      </div>
      <br/>
        <div class='row'>  {{form.survey_owner5.label}}{{form.survey_owner5}}</div>
      <div class='row'>  {{form.survey_owner_email5.label}}{{form.survey_owner_email5}}</div>
      <b> Survey front page setup</b><br/><br/>
      <div class='row'>{{form.title5.label}}{{form.title5}}</div>
      <div class='row'>  {{form.paragraph5.label}} (Provide a context for the survey)<span><i style='color:#007bff;' class='fa fa-info-circle ml-2'  data-toggle='modal' data-placement='top' data-target="#para"></i></span>
        <div class="modal fade" id="para" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header border-bottom-0">
                <h5 class="modal-title" id="exampleModalLabel"><span><i style='color:#007bff;' class='fa fa-info-circle mr-2'></i></span>Paragraph</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class='modal-body'>
                Providing context for your survey. You can add video, picture and write a text to explain how evaluated product works.
                <br/><br/>
                You can use following variables in the text <br/><br/>
                {PROJECT_NAME}: Name of project <br/>
                {PRODCUT_NAME}: Name of product <br/>
                {TODAY}: Today's date <br/>

              </div>

            </div>
          </div>
        </div>
          <br/><br/>

         {{form.paragraph5}}</div>
      <br/>

      <!--Form end -->
  </div>


</div>

{% endif %}
 </div>

</div>
<br/><br/>
{% if wizard.steps.prev %}

<button class='btn btn-warning' formnovalidate="formnovalidate" name="wizard_goto_step" type="submit" value="{{ wizard.steps.prev }}" >{% trans "Back" %}</button>
{% endif %}
<input type="submit" class='btn btn-success'  value="{% trans "Continue" %}" />
<a class='btn btn-danger'  href="{% url 'project_home'%}">{% trans "Cancel" %} </a>
</form>

</div>
<script>
  $(document).ready(function() {
    var d = new Date();
    var today = d.getFullYear() +"-"+("0"+(d.getMonth()+1)).slice(-2)+"-"+ ("0" + d.getDate()).slice(-2);
    var tomorrow = d.getFullYear()+1 +"-"+("0"+(d.getMonth()+1)).slice(-2)+"-"+ ("0" + d.getDate()).slice(-2);


    var type = {{type}};

    for(i=type+1;i<=5;i++){

      console.log('calling '+i);


          $("#id_survey-name_of_survey"+i).val("lemo");
          $("#id_survey-questionnaire_language"+i).val("En");
          $("#id_survey-start_date"+i).val(today);
          $("#id_survey-end_date"+i).val(tomorrow);
          $("#id_survey-survey_owner"+i).val('demo');
          $("#id_survey-survey_owner_email"+i).val('c@gmail.com');
          $("#id_survey-title"+i).val("demo");
          $("#id_survey-paragraph"+i).val("demo");


    }


    console.log(today);
    console.log(tomorrow);







  $(function () {
    $('[data-toggle="popover"]').popover()
  });

  $(function () {
    $('[data-toggle="tooltip"]').tooltip()
  })
});
</script>
{% endblock %}
